# Dawn of Stellar - 게임 설정 파일

# 게임 기본 설정
game:
  title: "Dawn of Stellar - 별빛의 여명"
  version: "5.0.0"
  language: "ko"  # ko, en

# 개발 모드
development:
  enabled: false  # true로 설정하면 개발자 기능 활성화
  unlock_all_classes: false
  unlimited_essence: false
  debug_mode: false
  show_damage_calculations: false

# 디스플레이 설정 (python-tcod)
display:
  # 콘솔 크기 (문자 단위)
  screen_width: 80
  screen_height: 50

  # 타일셋
  tileset: "assets/fonts/dejavu10x10_gs_tc.png"  # tcod 기본 타일셋

  # 렌더링
  fullscreen: false
  fps_limit: 60
  show_fps: false
  vsync: true

  # 패널 레이아웃
  panels:
    map_width: 60      # 맵 영역 너비
    map_height: 43     # 맵 영역 높이
    sidebar_width: 20  # 사이드바 너비
    message_height: 7  # 메시지 로그 높이

  # UI 설정
  ui:
    animation_speed: 0.3
    message_scroll_speed: 50
    show_tooltips: true
    color_scheme: "classic"  # classic, modern, high_contrast

# 전투 시스템 설정
combat:
  # ATB 설정 (상대적 속도 기반)
  atb:
    enabled: true
    max_gauge: 2000
    action_threshold: 1000
    # ATB 증가량 = (해당 전투원의 SPD / 모든 전투원의 평균 SPD) * base_rate
    base_rate: 50      # 기본 증가율 (평균 속도일 때 50씩 증가)
    animation_enabled: true
    animation_fps: 60
    frame_delay: 0.016  # ~60 FPS
    show_percentage: true
    # 플레이어 턴 동안 적 ATB 속도 배율
    player_turn_enemy_atb_rate: 0.3  # 플레이어 턴 중 적 ATB는 30%로 감소

  # Brave 시스템
  brave:
    base_brv: 1000
    max_brv_multiplier: 1.5  # 최대 BRV = base_brv * multiplier
    break_bonus: 1.5  # BREAK 시 HP 공격 보너스
    break_stun_duration: 1  # BREAK 스턴 지속시간 (턴)

  # 데미지 계산
  damage:
    physical_defense_reduction: 0.5  # 방어력 1당 데미지 감소
    magical_defense_reduction: 0.5  # 정신력 1당 데미지 감소
    critical_damage_multiplier: 1.5  # 크리티컬 데미지 배율
    elemental_weakness_bonus: 1.5  # 속성 약점 보너스
    elemental_resistance_reduction: 0.5  # 속성 저항 감소

  # 상태 효과
  status:
    max_stacks: 5  # 상태 효과 최대 중첩
    dot_tick_interval: 1.0  # DoT 틱 간격 (초)

  # 전투 난이도
  difficulty:
    player_turn_enemy_atb_multiplier:
      평온: 0.1
      보통: 0.2
      도전: 0.3
      악몽: 0.4
      지옥: 0.5

# 난이도 설정
difficulty:
  default: "보통"

  levels:
    평온:
      name: "안정된 차원 항해"
      description: "차원의 흐름이 안정되어 여유로운 탐험이 가능"
      enemy_hp_multiplier: 0.7
      enemy_damage_multiplier: 0.6
      player_damage_multiplier: 1.3
      exp_multiplier: 1.2
      drop_rate_multiplier: 1.3

    보통:
      name: "균형잡힌 차원 항해"
      description: "적절한 도전과 보상의 균형"
      enemy_hp_multiplier: 1.0
      enemy_damage_multiplier: 1.0
      player_damage_multiplier: 1.0
      exp_multiplier: 1.0
      drop_rate_multiplier: 1.0

    도전:
      name: "불안정한 차원 항해"
      description: "차원의 흐름이 불안정하여 더 강력한 적 출현"
      enemy_hp_multiplier: 1.3
      enemy_damage_multiplier: 1.3
      player_damage_multiplier: 0.9
      exp_multiplier: 1.3
      drop_rate_multiplier: 1.2

    악몽:
      name: "왜곡된 차원 항해"
      description: "차원이 크게 왜곡되어 매우 강력한 적 출현"
      enemy_hp_multiplier: 1.6
      enemy_damage_multiplier: 1.6
      player_damage_multiplier: 0.8
      exp_multiplier: 1.6
      drop_rate_multiplier: 1.5

    지옥:
      name: "붕괴 직전의 차원 항해"
      description: "차원이 붕괴 직전, 최강의 적들과 싸워야 함"
      enemy_hp_multiplier: 2.0
      enemy_damage_multiplier: 2.0
      player_damage_multiplier: 0.7
      exp_multiplier: 2.0
      drop_rate_multiplier: 2.0

# 맵 설정
world:
  map_sizes:
    작은맵:
      width: 40
      height: 20
      rooms: 5-8
    보통맵:
      width: 60
      height: 30
      rooms: 8-12
    큰맵:
      width: 80
      height: 40
      rooms: 12-16
    거대맵:
      width: 100
      height: 50
      rooms: 16-20

  default_size: "보통맵"

  # 던전 생성
  dungeon:
    min_room_size: 4
    max_room_size: 10
    corridor_width: 1
    enemy_spawn_chance: 0.3
    item_spawn_chance: 0.2
    treasure_spawn_chance: 0.1

# 캐릭터 설정
character:
  max_level: 99

  # 확장 가능한 스탯 시스템
  stats:
    base_stats:
      - hp            # 체력
      - mp            # 마나
      - init_brv      # 초기 브레이브 (전투 시작 시 BRV)
      - strength      # 물리 공격력
      - defense       # 물리 방어력
      - magic         # 마법 공격력
      - spirit        # 마법 방어력
      - speed         # 속도 (ATB 속도)
      - luck          # 행운 (크리티컬)
      - accuracy      # 명중률
      - evasion       # 회피율

    # 추가 스탯 (확장 가능)
    extended_stats:
      - stamina       # 스태미나 (필드 활동)
      - vitality      # 생명력 (상처 회복)
      - dexterity     # 손재주 (채집, 요리)
      - perception    # 지각력 (탐지, 발견)
      - endurance     # 인내력 (상태이상 저항)
      - charisma      # 매력 (NPC 상호작용)

    # 스탯 성장 타입 (확장 가능)
    growth_types:
      - linear        # 선형 성장
      - exponential   # 지수 성장
      - logarithmic   # 로그 성장
      - custom        # 커스텀 공식

  # 파티 설정
  party:
    max_size: 4
    default_formation: "균형"

  # 스킬 설정 (확장 가능)
  skills:
    max_equipped: 6
    mp_regeneration_rate: 0.05
    casting_interrupt_damage_threshold: 0.2

    # 스킬 타입 (확장 가능)
    skill_types:
      combat:
        - brv_attack
        - hp_attack
        - brv_hp_attack
        - support
        - debuff
        - ultimate

      field:
        - lockpicking    # 자물쇠 해제
        - detection      # 탐지
        - stealth        # 은신
        - tracking       # 추적
        - healing_magic  # 치유 마법

      crafting:
        - cooking        # 요리
        - alchemy        # 연금술
        - smithing       # 대장장이
        - enchanting     # 마법 부여

# 상처 시스템
wound_system:
  enabled: true
  wound_threshold: 0.25  # 데미지의 25%가 상처로 전환
  natural_healing_rate: 0.01  # 턴당 최대 HP의 1% 자연 회복
  max_wound_percentage: 0.5  # 최대 HP의 50%까지 상처 누적 가능
  healing_items_efficiency: 1.5  # 치유 아이템 효율

# 필드 시스템
field_systems:
  # 채집 시스템
  gathering:
    enabled: true
    stamina_cost: 10
    success_base_chance: 0.7
    stat_bonus: "dexterity"  # 손재주가 성공률에 영향
    yield_multiplier_range: [1, 3]  # 1-3개 획득

  # 요리 시스템
  cooking:
    enabled: true
    stamina_cost: 15
    failure_chance: 0.1  # 실패 시 재료 손실
    stat_bonus: "dexterity"

    # 요리 품질 등급
    quality_tiers:
      - poor      # 효과 50%
      - normal    # 효과 100%
      - good      # 효과 150%
      - excellent # 효과 200% + 추가 효과

  # 필드 스킬
  field_skills:
    lockpicking:
      enabled: true
      stat_bonus: "dexterity"
      difficulty_levels: [1, 2, 3, 4, 5]

    detection:
      enabled: true
      stat_bonus: "perception"
      radius_base: 5

    stealth:
      enabled: true
      stat_bonus: "speed"
      detection_radius_reduction: 0.5

# 장비 시스템
equipment:
  max_slots: 3  # 무기, 방어구, 악세사리
  durability_enabled: true
  durability_loss_rate: 0.7  # 30% 감소된 내구도 손실

  # 장비 등급별 드롭률
  drop_rates:
    common: 0.50
    uncommon: 0.30
    rare: 0.15
    legendary: 0.04
    artifact: 0.01

# AI 시스템
ai:
  # AI 동료 설정
  companion:
    enabled: true
    decision_delay: 0.5  # AI 의사결정 딜레이 (초)
    personality_types:
      - aggressive
      - defensive
      - balanced
      - support
    default_personality: "balanced"

  # 적 AI 설정
  enemy:
    vision_range: 5  # 타일
    chase_duration: 10  # 추적 지속 시간 (턴)
    random_movement_chance: 0.3

# 오디오 설정
audio:
  master_volume: 0.8
  bgm_volume: 0.6
  sfx_volume: 0.7

  # BGM 설정
  bgm:
    enabled: true
    fade_duration: 1.0  # 페이드 인/아웃 시간 (초)

    # BGM 매핑
    tracks:
      main_menu: "prelude"
      character_select: "character_select"
      dungeon: "exploration"
      battle: "battle"
      boss: "boss_battle"
      victory: "victory_fanfare"
      game_over: "game_over"

  # SFX 설정
  sfx:
    enabled: true
    categories:
      - ui
      - combat
      - skill
      - item
      - ambient

# 저장 시스템
save:
  auto_save_enabled: true
  auto_save_interval: 300  # 5분 (초)
  max_save_slots: 10
  save_directory: "saves/"
  backup_enabled: true
  max_backups: 3

# 메타 진행 시스템
meta_progression:
  enabled: true
  star_fragment_drop_rate: 0.1
  max_star_fragments: 9999

  # 잠금 해제 비용
  unlock_costs:
    basic_class: 0  # 기본 클래스는 무료
    advanced_class: 100
    special_class: 500
    ultimate_class: 1000

# 멀티플레이어 설정
multiplayer:
  enabled: true
  default_port: 5000
  max_players: 4

  modes:
    - hotseat      # 핫시트 (로컬)
    - cooperative  # 협동
    - competitive  # 대전

# 모바일 설정
mobile:
  enabled: false
  server_mode: "web_ui"  # web_ui, flutter_backend
  touch_controls: true
  virtual_joystick: true

# 로깅 설정
logging:
  enabled: true
  log_directory: "logs/"

  levels:
    console: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
    file: "DEBUG"

  # 로그 카테고리
  categories:
    combat: true
    player: true
    enemy: true
    world: true
    system: true
    error: true
    debug: true

  # 로그 로테이션
  rotation:
    enabled: true
    max_size_mb: 10
    max_files: 5

# 스토리 및 테마
story:
  theme: "차원 항해사"
  terminology:
    location: "차원 공간"
    boss: "차원 지배자"
    exploration: "차원 항해"

  # 특수 모드 (개발자 전용)
  glitch_mode:
    enabled: false
    force_glitch: false

  true_ending:
    enabled: true
    requirements_met: false

# 성능 설정
performance:
  enable_profiling: false
  max_particles: 100
  animation_quality: "high"  # low, medium, high
  cache_enabled: true
  cache_size_mb: 100

# 접근성
accessibility:
  colorblind_mode: false
  high_contrast: false
  text_to_speech: false
  screen_shake: true
  flash_reduction: false

# 실험적 기능
experimental:
  hot_reload: false  # 코드 핫 리로드 (개발 전용)
  advanced_ai: false  # 고급 AI (실험적)
  procedural_story: false  # 절차적 스토리 생성
